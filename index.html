<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å½©è¶å®å®æŠ½å¥–é¡µé¢</title>
    <style>
        body {
            background: linear-gradient(135deg, #ffccd5, #ffb6c1);
            font-family: 'Microsoft YaHei', sans-serif;
            text-align: center;
            padding: 20px;
        }
        .container {
            background: white;
            max-width: 800px;
            margin: 0 auto;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 {
            color: #ff4081;
            margin-bottom: 20px;
        }
        .prize-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 30px 0;
        }
        .prize-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .prize-item.selected {
            background: #ffd166;
            transform: scale(1.05);
        }
        button {
            background: #ff4081;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            margin: 10px;
        }
        .results {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            min-height: 100px;
        }
        .rules {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            text-align: left;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ å½©è¶å®å®ä¼šé€‰åˆ°ä»€ä¹ˆå‘¢ ğŸ</h1>
        <p>ä¸€å…±5æ¬¡æŠ½å¥–æœºä¼šï¼Œç¥ä½ å¥½è¿ï¼</p>
        
        <div style="margin: 20px 0; font-size: 18px;">
            å½“å‰æŠ½å¥–: <span id="round">0</span>/5
        </div>
        
        <div class="prize-grid" id="prizeGrid"></div>
        
        <div>
            <button onclick="startDraw()" id="drawBtn">å¼€å§‹æŠ½å¥–</button>
            <button onclick="resetGame()">é‡æ–°å¼€å§‹</button>
        </div>
        
        <div class="results" id="results">
            <h3>æŠ½å¥–ç»“æœ</h3>
            <div id="resultList"></div>
        </div>
        
        <div class="rules">
            <h3>ğŸ“ æŠ½å¥–è§„åˆ™</h3>
            <ul>
                <li>ç¬¬1æ¬¡ï¼šå¿…é¡»æ˜¯<strong>å°è›‹ç³•</strong>æˆ–<strong>66å…ƒçº¢åŒ…</strong></li>
                <li>ç¬¬2æ¬¡ï¼šå¿…é¡»æ˜¯<strong>å°è›‹ç³•</strong>æˆ–<strong>66å…ƒçº¢åŒ…</strong>ï¼Œä¸”ä¸èƒ½ä¸ç¬¬1æ¬¡ç›¸åŒ</li>
                <li>ç¬¬3-5æ¬¡ï¼šéšæœºæŠ½å–å‰©ä½™å¥–å“</li>
                <li>æ¯æ¬¡æŠ½å¥–åï¼Œå·²æŠ½ä¸­å¥–å“ä¼šä»å¥–æ± ç§»é™¤</li>
            </ul>
        </div>
        
        <div style="margin-top: 30px; padding: 15px; background: #e8f5e9; border-radius: 10px;">
            <h3>ğŸ”— ä½ çš„æŠ½å¥–é“¾æ¥</h3>
            <p>å®Œæˆè®¾ç½®åï¼Œåœ¨ä»“åº“çš„Settings â†’ Pagesé‡Œè·å–é“¾æ¥</p>
        </div>
    </div>

    <script>
        const prizes = [
            "å¤´æˆ´è€³æœº", "å›´å·¾", "å°è›‹ç³•", "é¡¹é“¾",
            "é©¬å°çººåŒæ¬¾å°æ°´æ¯", "66å…ƒçº¢åŒ…å“¦", "å¥¶èŒ¶ä¸€æ¯å“¦", "å•¥ä¹Ÿæ²¡æœ‰å“¦"
        ];
        
        let availablePrizes = [...prizes];
        let selectedPrizes = [];
        let currentRound = 0;
        
        function init() {
            const grid = document.getElementById('prizeGrid');
            grid.innerHTML = '';
            availablePrizes.forEach((prize, index) => {
                const div = document.createElement('div');
                div.className = 'prize-item';
                div.id = `prize${index}`;
                div.innerHTML = prize;
                grid.appendChild(div);
            });
            updateDisplay();
        }
        
        function startDraw() {
            if (currentRound >= 5) return;
            
            let possiblePrizes = [];
            if (currentRound === 0) {
                possiblePrizes = availablePrizes.filter(p => p === "å°è›‹ç³•" || p === "66å…ƒçº¢åŒ…å“¦");
            } else if (currentRound === 1) {
                possiblePrizes = availablePrizes.filter(p => 
                    (p === "å°è›‹ç³•" || p === "66å…ƒçº¢åŒ…å“¦") && p !== selectedPrizes[0]
                );
            } else {
                possiblePrizes = availablePrizes;
            }
            
            if (possiblePrizes.length === 0) {
                alert("æ²¡æœ‰å¯é€‰çš„å¥–å“äº†ï¼");
                return;
            }
            
            // æŠ½å¥–åŠ¨ç”»
            let count = 0;
            const interval = setInterval(() => {
                document.querySelectorAll('.prize-item').forEach(item => {
                    item.classList.remove('selected');
                });
                const randomIndex = Math.floor(Math.random() * document.querySelectorAll('.prize-item').length);
                document.querySelectorAll('.prize-item')[randomIndex].classList.add('selected');
                count++;
                
                if (count > 15) {
                    clearInterval(interval);
                    const selected = possiblePrizes[Math.floor(Math.random() * possiblePrizes.length)];
                    
                    // æ˜¾ç¤ºæœ€ç»ˆç»“æœ
                    document.querySelectorAll('.prize-item').forEach(item => {
                        item.classList.remove('selected');
                        if (item.innerHTML === selected) {
                            item.classList.add('selected');
                        }
                    });
                    
                    // æ›´æ–°æ•°æ®
                    selectedPrizes.push(selected);
                    availablePrizes = availablePrizes.filter(p => p !== selected);
                    currentRound++;
                    
                    updateDisplay();
                    
                    if (currentRound >= 5) {
                        document.getElementById('drawBtn').disabled = true;
                        setTimeout(() => {
                            alert("ğŸ‰ æŠ½å¥–å®Œæˆï¼\n\n" + 
                                  selectedPrizes.map((p, i) => `ç¬¬${i+1}æ¬¡ï¼š${p}`).join('\n') +
                                  "\n\næ„Ÿè°¢å‚ä¸ï¼");
                        }, 500);
                    }
                }
            }, 100);
        }
        
        function resetGame() {
            availablePrizes = [...prizes];
            selectedPrizes = [];
            currentRound = 0;
            document.getElementById('drawBtn').disabled = false;
            init();
        }
        
        function updateDisplay() {
            document.getElementById('round').textContent = currentRound;
            const resultList = document.getElementById('resultList');
            resultList.innerHTML = selectedPrizes.map((p, i) => 
                `<div style="padding: 8px; margin: 5px; background: white; border-radius: 5px;">
                    ç¬¬${i+1}æ¬¡ï¼š<strong>${p}</strong>
                </div>`
            ).join('') || '<p>è¿˜æ²¡æœ‰æŠ½å¥–ç»“æœ</p>';
        }
        
        // åˆå§‹åŒ–
        window.onload = init;
    </script>
</body>
</html>
